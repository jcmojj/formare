<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<h:form id="formCabecalhoSuperior">
		<h:panelGroup styleClass="container-cabecalho-superior" layout="block">
			<h:panelGroup styleClass="centraliza" layout="block">
				<p:commandLink
					styleClass="pagina-inicial border-right-light border-left-light"
					action="#">
					<h:outputText
						styleClass="fa fa-home fa-container-cabecalho-superior" />
				</p:commandLink>
				<p:commandLink styleClass="pagina-inicial no-border " action="#">
					<h:outputText
						styleClass="fa fa-facebook-square fa-container-cabecalho-superior" />
				</p:commandLink>
				<p:commandLink
					styleClass="pagina-inicial border-right-light border-left-light"
					action="#">
					<h:outputText
						styleClass="fa fa-instagram fa-container-cabecalho-superior order-right-light border-left-light" />
				</p:commandLink>
				<h:panelGroup
					styleClass="data-container-cabecalho border-right-light border-left-light"
					layout="block">

					<h:outputText styleClass="data" value="Campo Belo" />
					<p:clock pattern="HH:mm:ss dd.MM.yyyy" />
					<p:clock pattern="HH:mm:ss dd.MM.yyyy" mode="server" />
				</h:panelGroup>
				<h:panelGroup
					styleClass="usuario-container-cabecalho border-right-light border-left-light"
					layout="block">
					<h:outputText styleClass="usuario"
						value="#{sessionScope['usuarioLogado'].nome}" />
				</h:panelGroup>

				<h:panelGroup styleClass="logo-final-container-cabecalho"
					layout="block">
					<p:commandLink
						styleClass="logo-final border-right-light border-left-light"
						action="#">
						<h:outputText
							styleClass="fa fa-credit-card-alt fa-container-cabecalho-superior" />
					</p:commandLink>
					<p:commandLink styleClass="logo-final no-border" action="#">
						<h:outputText
							styleClass="fa fa-map-marker fa-container-cabecalho-superior" />
					</p:commandLink>
					<p:commandLink
						styleClass="logo-final border-right-light border-left-light"
						action="#">
						<h:outputText
							styleClass="fa fa-child fa-container-cabecalho-superior" />
					</p:commandLink>
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGroup>
	</h:form>

	<h:form id="formCabecalhoLogo">
		<h:panelGroup styleClass="container-cabecalho-logo" layout="block">
			<h:panelGroup styleClass="centraliza" layout="block">
				<h1>
					<h:commandLink action="#">
						<h:graphicImage styleClass="cabecalho-logo" library="img"
							name="logo.png" />
					</h:commandLink>
				</h1>
				<h:panelGroup styleClass="info-formare-container-cabecalho"
					layout="block">
					<div class="info-formare ui-noborder">
						<p:commandLink
							styleClass="fa fa-phone fa-container-cabecalho-abaixo-superior "
							action="#">
							<h:outputText styleClass="" value="   11-55437853" />
						</p:commandLink>
						<p:commandLink
							styleClass="fa fa-whatsapp fa-container-cabecalho-abaixo-superior"
							action="#">
							<h:outputText styleClass="" value="   11-991225335" />
						</p:commandLink>
						<p:commandLink
							styleClass="fa fa-map fa-container-cabecalho-abaixo-superior"
							action="#">
							<h:outputText styleClass=""
								value="   Rua Baronesa de Bela Vista, 500" />
						</p:commandLink>
					</div>
				</h:panelGroup>

				<h:panelGroup styleClass="login-container-cabecalho" layout="block">
					<p:panelGrid columns="1" styleClass="login-sub-container-cabecalho"
						cellpadding="5">
						<p:commandButton id="botaoLogar" value="Conectar" type="button"
							icon="fa fa-sign-in " styleClass="login-button"
							onclick="PF('dlgLogar').show();"
							update="formCabecalhoLogo formDialogLogar"
							rendered="#{!loginBean.logado}" />
						<p:message for="botaoLogar" />

						<p:commandButton id="botaoDeslogar" value="Desconectar"
							 icon="fa fa-sign-out" styleClass="login-button"
							action="#{loginBean.deslogarString}"
							actionListener="#{loginBean.deslogar}" update="formCabecalhoLogo"
							rendered="#{loginBean.logado}" />
						<p:message for="botaoDeslogar" />
					</p:panelGrid>
				</h:panelGroup>

			</h:panelGroup>
		</h:panelGroup>
	</h:form>



	<h:form id="formGrow">
		<h:panelGroup styleClass="container-cabecalho-inferior" layout="block">
			<h:panelGroup
				styleClass="centraliza container-cabecalho-inferior-linhas"
				layout="block">
				<ui:include src="menu.xhtml" />
				<p:growl id="growlSticky" globalOnly="true" sticky="true"
					closable="true" showDetail="true" />
				<p:growl id="growlLongo" globalOnly="true" showDetail="true"
					closable="true" life="5000" />
				<p:growl id="growlCurto" globalOnly="true" showDetail="true"
					closable="true" life="2000" />
				<p:messages id="messages" showDetail="true" closable="true"
					autoUpdate="true" />
			</h:panelGroup>
		</h:panelGroup>
	</h:form>

	<h:form id="formDialogLogar">
		<!-- DIALOG DE LOGAR -->
		<p:dialog header="Login" widgetVar="dlgLogar" modal="true"
			height="120" focus="usuario" showEffect="clip" resizable="false">
			<h:panelGrid columns="1" columnClasses="label, value" cellpadding="5">
				<p:inputText id="usuario" styleClass="login" placeholder="Usuário"
					label="username" required="true" value="#{loginBean.email}" />
				<p:password id="senha" styleClass="login" feedback="false"
					placeholder="Senha" label="password" required="true"
					value="#{loginBean.password}" />

				<f:facet name="footer">
					<h:panelGrid columns="2" columnClasses="label, value"
						cellpadding="5">
						<p:commandButton value="Logar" ajax="true"
							action="#{loginBean.logarString}"
							update=":formDialogEscolher:escolherUsuarioId"
							oncomplete="{
									PF('dlgLogar').hide();
									PF('dlgEscolher').show();}"
							styleClass="ui-priority-primary" style="margin-top:5px">
							<p:ajax process="formDialogEscolher" />
						</p:commandButton>
						<p:commandButton value="Outro"
							update=":formGrow:growlLongo formDialogOutro"
							onclick="{PF('dlgLogar').hide();PF('dlgOutro').show();}">
						</p:commandButton>
					</h:panelGrid>
				</f:facet>
			</h:panelGrid>
		</p:dialog>
	</h:form>

	<h:form id="formDialogEscolher">
		<!-- DIALOG DE ESCOLHER -->
		<p:dialog header="Escolha um usuario" widgetVar="dlgEscolher"
			modal="true" height="120" showEffect="clip" resizable="false">
			<h:panelGrid columns="1" id="escolherUsuarioId"
				columnClasses="label, value" cellpadding="5">
				<p:repeat var="user" rendered="#{loginBean.logado}" 
					value="#{loginBean.listaUsuariosComEmailESenha}">
					[#{user.id}"]:#{user.nome}" #{user.sobrenome}"
					<p:commandButton value="#{user.nome}"
						
						actionListener="#{loginBean.selecionar}"
						update="formCabecalhoLogo formGrow formCabecalhoLogo"
						oncomplete="{PF('dlgEscolher').hide(); }">
						<f:setPropertyActionListener value="#{user.id}"
							target="#{loginBean.userId}" />
					</p:commandButton>
				</p:repeat>
			</h:panelGrid>
		</p:dialog>
	</h:form>

	<h:form id="formDialogOutro">
		<!-- DIALOG DE OUTRO -->
		<p:dialog header="dialogOutro" widgetVar="dlgOutro" modal="true"
			height="120" showEffect="clip" resizable="false">
			<h:panelGrid columns="1" columnClasses="label, value" cellpadding="5">

				<p:commandButton value="Novos Usuário" id="novoUsuarioButton"
					update=":formGrow:growlLongo formDialogOutro "
					action="#{loginBean.novoUsuarioString}"
					actionListener="#{loginBean.novoUsuario}"
					oncomplete="{PF('dlgOutro').hide(); }">
				</p:commandButton>
				<p:commandButton value="Recuperar Usuário"
					id="recuperarUsuarioButton"
					update=":formGrow:growlLongo formDialogOutro"
					action="#{loginBean.recuperarUsuarioString}"
					actionListener="#{loginBean.recuperarUsuario}"
					oncomplete="PF('dlgOutro').hide(); ">
				</p:commandButton>

			</h:panelGrid>
		</p:dialog>
	</h:form>



	<!--     <h:outputLabel for="username" value="Username:" />
            <p:inputText id="username" value="#{userLoginView.username}" required="true" label="username" />
 
            <h:outputLabel for="password" value="Password:" />
            <p:password id="password" value="#{userLoginView.password}" required="true" label="password" />
 
            <f:facet name="footer">
                <p:commandButton value="Login" update="growl" actionListener="#{userLoginView.login}"
                                 oncomplete="handleLoginRequest(xhr, status, args)" />
            </f:facet>  -->


	<script type="text/javascript">
		{
			function handleLoginRequest(xhr, status, args) {
				PF('dlgLogar').hide(2000);
				PF('dlgEscolher').show(2000);
			}
		}
	</script>
</ui:composition>