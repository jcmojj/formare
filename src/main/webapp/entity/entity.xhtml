<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/template/_templatedyn.xhtml">
<ui:define name="title">
            Clínica Formare - Atendimento Comportamental Integrado
    </ui:define>
	<ui:define name="dynContent">
<h:form>
<h4>
Usuário Logado: #{startEntity.usuarioLogado}
</h4>
<h:outputText value="#{sessionScope['usuarioLogado'].nome}" />
</h:form>

<h:form> 
<h2>Tabelas</h2>

<p:panelGrid columns="2" tableStyle="tabelaEntidades">



<p:dataTable var="tipoGrupo" tableStyle="padding:0px;" style="width: 80%; margin: auto; border-style: none;" value="#{entityDataTableBean.grupos}">
	<p:column style="width:30px">
            <p:rowToggler />
    </p:column>
    <p:column headerText="Grupo">
        <h:outputText value="#{tipoGrupo}" />
    </p:column>
    <p:column headerText="Inicializar">
    		<h:commandLink value="Inicializar Todos" 	action="#{entityDataTableBean.inicializando}"/>
    </p:column>
	<p:rowExpansion>
		<p:dataTable var="tipoEntidade" styleClass="noHeader " style="border-style: none;" value="#{entityDataTableBean.getTiposEntidadedDe(tipoGrupo)}">
			<p:column style="width:30px"/>
			<p:column>
				<h:commandLink value="#{tipoEntidade.tipo}" 	action="#{entityDataTableBean.abrir(tipoEntidade)}"/>
		    </p:column>
		    <p:column>
		    		<h:commandLink value="Inicializar" 	action="#{entityDataTableBean.inicializando(tipoEntidade)}"/>
		    </p:column>
	    </p:dataTable>
    </p:rowExpansion>
</p:dataTable>



</p:panelGrid>

</h:form>



</ui:define>

</ui:composition>
</html>